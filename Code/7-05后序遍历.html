<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>后序遍历</title>
	</head>
	<body>
		<script type="text/javascript">
			function BinarySearchTree(){
				function Node(key){
					this.key = key;
					this.left  = null;
					this.right = null;
				}
				//属性
				this.root = null;
				//方法
				//插入数据
				BinarySearchTree.prototype.insert = function(key){
					//1. 根据key创建节点
					var newNode = new Node(key);
					//2. 判断根节点是否有值
					if (this.root == null) {
						this.root = newNode;
					}else{
						this.insertNode(this.root,newNode)
					}
				}
				BinarySearchTree.prototype.insertNode = function(node,newNode){					
					if (newNode.key < node.key) {
						if (node.left == null) {
							node.left = newNode;
						}else{
							this.insertNode(node.left,newNode)
						}
					}else{
						if (node.right == null) {
							node.right = newNode;
						} else{
							this.insertNode(node.right,newNode);
						}
					}
				}
				//树的遍历
				//1. 先序遍历
				BinarySearchTree.prototype.preOlderTraversal = function(handler){
					this.preOlderTraversalNode(this.root,handler);	
				}
				BinarySearchTree.prototype.preOlderTraversalNode = function(node,handler){
					if(node != null){
						//1. 处理经过的节点						
						handler(node.key);//传值给key
						//2. 处理经过节点的左子节点
						this.preOlderTraversalNode(node.left,handler);
						//3. 处理经过节点的右子节点
						this.preOlderTraversalNode(node.right,handler);
					}
				}
				//2. 中序遍历
				//2.1. 从小到大
				BinarySearchTree.prototype.midOlderTraversalTobig = function(handler){
					this.midOlderTraversalTobigNode(this.root,handler);	
				}
				BinarySearchTree.prototype.midOlderTraversalTobigNode = function(node,handler){
					if(node != null){						
						//1. 处理经过节点的左子节点
						this.midOlderTraversalTobigNode(node.left,handler);
						//2. 处理经过的节点						
						handler(node.key);//传值给key
						//3. 处理经过节点的右子节点
						this.midOlderTraversalTobigNode(node.right,handler);
					}
				}
				//2.2. 从大到小
				BinarySearchTree.prototype.midOlderTraversalTosmall = function(handler){
					this.midOlderTraversalTosmallNode(this.root,handler);	
				}
				BinarySearchTree.prototype.midOlderTraversalTosmallNode = function(node,handler){
					if(node != null){	
						//1. 处理经过节点的右子节点
						this.midOlderTraversalTosmallNode(node.right,handler);
						//2. 处理经过的节点						
						handler(node.key);//传值给key						
						//3. 处理经过节点的左子节点
						this.midOlderTraversalTosmallNode(node.left,handler);
					}
				}
				//2. 后序遍历
				BinarySearchTree.prototype.postOlderTraversal = function(handler){
					this.postOlderTraversalNode(this.root,handler);	
				}
				BinarySearchTree.prototype.postOlderTraversalNode = function(node,handler){
					if(node != null){						
						//1. 处理经过节点的左子节点
						this.postOlderTraversalNode(node.left,handler);						
						//2. 处理经过节点的右子节点
						this.postOlderTraversalNode(node.right,handler);
						//3. 处理经过的节点						
						handler(node.key);//传值给key
					}
				}
			}
			//测试代码
			//1. 创建BinarySearchTree
			var bst = new BinarySearchTree();
			//2. 插入数据
		    bst.insert(11);
			bst.insert(7);
			bst.insert(15);
			bst.insert(5);
			bst.insert(3);
			bst.insert(9);
			bst.insert(8);
			bst.insert(10);
			bst.insert(13);
			bst.insert(12);
			bst.insert(14);
			bst.insert(20);
			bst.insert(18);
			bst.insert(25);
			bst.insert(6);
			//3.测试遍历
			//3.1  先序遍历
			var resultString = "";
			bst.preOlderTraversal(function (key){
				resultString += key +" ";
			})
			alert(resultString);
			//3.2.1  从小到大
			var resultString = "";
			bst.midOlderTraversalTobig(function (key){
				resultString += key +" ";
			})
			alert(resultString);
			//3.2.1  从大到小
			var resultString = "";
			bst.midOlderTraversalTosmall(function (key){
				resultString += key +" ";
			})
			alert(resultString);
			//3.3  后序遍历
			var resultString = "";
			bst.postOlderTraversal(function (key){
				resultString += key +" ";
			})
			alert(resultString);
		</script>
	</body>
</html>
